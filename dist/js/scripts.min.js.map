{"version":3,"file":"scripts.min.js","sources":["src/js/scripts.js"],"sourcesContent":["// Array.from() polyfill\nif ( ! Array.from ) {\n  Array.from = ( function() {\n    var toStr = Object.prototype.toString;\n    var isCallable = function( fn ) {\n      return 'function' === typeof fn || '[object Function]' === toStr.call( fn );\n    };\n    var toInteger = function( value ) {\n      var number = Number( value );\n      if ( isNaN( number ) ) {\n        return 0;\n      }\n      if ( 0 === number || ! isFinite( number ) ) {\n        return number;\n      }\n      return ( 0 < number ? 1 : -1 ) * Math.floor( Math.abs( number ) );\n    };\n    var maxSafeInteger = Math.pow( 2, 53 ) - 1;\n    var toLength = function( value ) {\n      var len = toInteger( value );\n      return Math.min( Math.max( len, 0 ), maxSafeInteger );\n    };\n\n    // The length property of the from method is 1.\n    return function from( arrayLike /*, mapFn, thisArg */ ) {\n      // 1. Let C be the this value.\n      var C = this;\n\n      // 2. Let items be ToObject(arrayLike).\n      var items = Object( arrayLike );\n\n      // 3. ReturnIfAbrupt(items).\n      if ( null == arrayLike ) {\n        throw new TypeError(\n          'Array.from requires an array-like object - not null or undefined'\n        );\n      }\n\n      // 4. If mapfn is undefined, then let mapping be false.\n      var mapFn = 1 < arguments.length ? arguments[1] : void undefined;\n      var T;\n      if ( 'undefined' !== typeof mapFn ) {\n\n        // 5. else\n        // 5. a If IsCallable(mapfn) is false, throw a TypeError exception.\n        if ( ! isCallable( mapFn ) ) {\n          throw new TypeError(\n            'Array.from: when provided, the second argument must be a function'\n          );\n        }\n\n        // 5. b. If thisArg was supplied, let T be thisArg; else let T be undefined.\n        if ( 2 < arguments.length ) {\n          T = arguments[2];\n        }\n      }\n\n      // 10. Let lenValue be Get(items, \"length\").\n      // 11. Let len be ToLength(lenValue).\n      var len = toLength( items.length );\n\n      // 13. If IsConstructor(C) is true, then\n      // 13. a. Let A be the result of calling the [[Construct]] internal method\n      // of C with an argument list containing the single item len.\n      // 14. a. Else, Let A be ArrayCreate(len).\n      var A = isCallable( C ) ? Object( new C( len ) ) : new Array( len );\n\n      // 16. Let k be 0.\n      var k = 0;\n\n      // 17. Repeat, while k < lenâ€¦ (also steps a - h)\n      var kValue;\n      while ( k < len ) {\n        kValue = items[k];\n        if ( mapFn ) {\n          A[k] =\n            'undefined' === typeof T ?\n              mapFn( kValue, k ) :\n              mapFn.call( T, kValue, k );\n        } else {\n          A[k] = kValue;\n        }\n        k += 1;\n      }\n\n      // 18. Let putStatus be Put(A, \"length\", len, true).\n      A.length = len;\n\n      // 20. Return A.\n      return A;\n    };\n  }() );\n}\n\n( function() {\n\n  // Variables. focusTrap() is from the focus trap library that is loaded before this sctipt.\n  const mobileToggle = document.querySelector( '.menu-toggle' );\n  const panel = document.querySelector( '#mobile-nav-overlay' );\n\n  // const trap = focusTrap( panel );\n\n  // const btnClose = document.querySelector( '.menu-close' );\n\n  mobileToggle.addEventListener( 'click', function() {\n    if ( this.classList.contains( 'active' ) ) {\n      this.setAttribute( 'aria-expanded', 'false' );\n      panel.classList.remove( 'open' );\n      setTimeout( () => {\n        panel.classList.remove( 'active' );\n\n        // trap.deactivate();\n      }, 375 );\n    } else {\n      this.setAttribute( 'aria-expanded', 'true' );\n      panel.classList.add( 'active' );\n      setTimeout( () => {\n        panel.classList.add( 'open' );\n        console.log( 'clicked' );\n\n        // trap.activate();\n      }, 50 );\n    }\n\n    this.classList.toggle( 'active' );\n  });\n\n  /****** TOGGLE SUBMENUS ******/\n  const arrows = [ ...document.querySelectorAll( '.toggle-sub-menu' ) ];\n  arrows.forEach( element => {\n    element.addEventListener( 'click', toggleSubMenu );\n  });\n\n  function toggleSubMenu() {\n    if ( 0 == this.nextElementSibling.style.maxHeight ) {\n      this.setAttribute( 'aria-expanded', true );\n      this.nextElementSibling.classList.add( 'open' );\n      setTimeout( () => {\n        this.nextElementSibling.style.maxHeight = '100vh';\n      }, 100 );\n    } else {\n      this.setAttribute( 'aria-expanded', false );\n      this.nextElementSibling.style.maxHeight = this.nextElementSibling.style.maxHeight = null;\n      setTimeout( () => {\n        this.nextElementSibling.classList.remove( 'open' );\n      }, 275 );\n    }\n    this.classList.toggle( 'active' );\n  }\n\n  /****** A11Y ******/\n  const lis = [ ...document.querySelectorAll( '.desktop-main-navigation li' ) ];\n  const anchors = [ ...document.querySelectorAll( '.desktop-main-navigation a' ) ];\n\n  // Function that returns an array of an elements parents (up to the .desktop-main-menu node)\n  const getParents = function( elem ) {\n    const parents = [];\n    for ( ; elem; elem = elem.parentNode ) {\n      if ( elem.classList.contains( 'desktop-main-navigation' ) ) {\n        break;\n      }\n      parents.unshift( elem );\n    }\n    return parents;\n  };\n\n  anchors.forEach( anchor => {\n    anchor.addEventListener( 'focus', () => {\n      const parents = getParents( anchor );\n\n      lis.forEach( li => {\n        li.classList.remove( 'focus' );\n      });\n\n      // If a one level dropdown, add a focus class to the li\n      if (\n        parents[parents.length - 2].classList.contains( 'menu-item-has-children' )\n      ) {\n        anchor.parentElement.classList.add( 'focus' );\n      }\n\n      // If a more than a one level dropdown, add a focus class each li in the \"parents\" array\n      if ( parents[parents.length - 3].classList.contains( 'sub-menu' ) ) {\n        parents.forEach( parent => {\n          if ( 'li' === parent.localName ) {\n            parent.classList.add( 'focus' );\n          }\n        });\n      }\n    });\n\n    // Reset all li's when focus is removed\n    anchor.addEventListener( 'focusout', () => {\n      lis.forEach( li => {\n        li.classList.remove( 'focus' );\n      });\n    });\n  });\n}() );"],"names":["Array","from","toStr","Object","prototype","toString","isCallable","fn","call","toInteger","value","number","Number","isNaN","isFinite","Math","floor","abs","maxSafeInteger","pow","toLength","len","min","max","arrayLike","C","items","TypeError","mapFn","arguments","length","undefined","T","A","k","kValue","mobileToggle","document","querySelector","panel","addEventListener","classList","contains","setAttribute","remove","setTimeout","add","console","log","toggle","arrows","querySelectorAll","forEach","element","toggleSubMenu","nextElementSibling","style","maxHeight","lis","anchors","getParents","elem","parents","parentNode","unshift","anchor","li","parentElement","parent","localName"],"mappings":"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"}